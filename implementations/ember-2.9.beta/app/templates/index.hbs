{{#if model.length}}
  {{#if canToggle}}
    <input type="checkbox" id="toggle-all" checked={{allCompleted}} onchange={{action 'toggleAll'}}>
  {{/if}}
  <ul id="todo-list" class="todo-list">
    {{#each filteredModel as |todo|}}
      <li class="{{if todo.completed 'completed' 'in-progress'}} {{if todo.editing 'editing' 'not-editing'}}">
        <div class="view">
          <input type="checkbox" class="toggle" checked={{todo.completed}} onchange={{action 'toggleCompleted' todo}}>
          <label ondblclick={{action 'startEditing' todo}}>{{todo.title}}</label>
          <button onclick={{action 'removeTodo' todo}} class="destroy"></button>
        </div>
        <input type="text" class="edit" value={{todo.title}} onblur={{action 'doneEditing' todo}} onkeydown={{action 'handleKeydown' todo}} autofocus>
      </li>
    {{/each}}
  </ul>
  <footer id="footer">
    <span id="todo-count"><strong>{{remaining.length}}</strong> {{pluralize 'item' remaining.length}} left</span>
    <ul id="filters">
      <li><a href="#" {{action 'updateQueryParam' 'null'}} class="{{if (eq filterBy null) 'selected'}}">All</a></li>
      <li><a href="#" {{action 'updateQueryParam' 'active'}} class="{{if (eq filterBy 'active') 'selected'}}">Active</a></li>
      <li><a href="#" {{action 'updateQueryParam' 'completed'}} class="{{if (eq filterBy 'completed') 'selected'}}">Completed</a></li>
    </ul>
    {{#if completed.length}}
      <button id="clear-completed" onclick={{action 'clearCompleted'}}>Clear completed</button>
    {{/if}}
  </footer>
{{/if}}
